<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>海诺技术博客</title>
  
  <subtitle>专注iOS、Android技术开发实践</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.hndev.cn/"/>
  <updated>2018-12-08T07:06:30.220Z</updated>
  <id>http://www.hndev.cn/</id>
  
  <author>
    <name>Maple</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>单片机开发遇到的坑和填坑办法</title>
    <link href="http://www.hndev.cn/2018/02/09/%E5%8D%95%E7%89%87%E6%9C%BA%E5%BC%80%E5%8F%91%E9%81%87%E5%88%B0%E7%9A%84%E5%9D%91%E5%92%8C%E5%A1%AB%E5%9D%91%E5%8A%9E%E6%B3%95/"/>
    <id>http://www.hndev.cn/2018/02/09/单片机开发遇到的坑和填坑办法/</id>
    <published>2018-02-09T09:31:45.000Z</published>
    <updated>2018-12-08T07:06:30.220Z</updated>
    
    <content type="html"><![CDATA[<p><strong>一、IDE在线调试问题，点击调试遇到Fail to read registers，该问题有可能是设备当前运行的程序存在低功耗休眠的代码，导致芯片进入休眠状态无法调试，可以先暂时屏蔽低功耗代码进行相关工程代码的调试。 </strong></p><p><strong>二、单片机时钟产生可以通过内部振荡器进行产生，也可以接入外部晶振，它们的区别在于：内部振荡器产生的时钟频率由于工艺问题会产生或多或少的偏差值，而外部晶振的误差非常小，但是会额外占用实际布板的面积；实际设计中需要根据具体需求进行选型。 </strong></p><p><strong>三、调试技巧 </strong></p><p>1、波特率调试可以发送0x0a字符，然后使用示波器观察0101的电平跳变的周期，然后算出频率。<br>2、断点调试时，有可能会错过后续的中断；如串口接收数据时，断点在中断函数中，就会错过本次后续的中断信息及数据。<br>3、一条语句执行的耗时计算<br>1）在函数前将某一GPIO置高，函数执行完后将GPIO置低，通过示波器测量该IO的脉宽；<br>2）通过系统时钟计数器，函数执行前后对系统时钟进行计数采样，算出差值（注意时钟计数翻转问题），该方式精确度高。 </p><p><strong>四、当牵扯到DMA操作时，传入的地址必须是SRAM，而不能是其它如EFlash的地址，而且地址必须是对齐的；我之前在做证书认证时候为了节省内存资源，把EFlash的证书地址直接传入进行运算，发现在进行SM3运算时结果不对，最终定位到了上述DMA操作的情况，目前已解决。 </strong></p><p><strong>五、在实际的两个ECU通信中，不管是串口通信还是SPI通信，都需要把两个ECU的GND接到一块，就是共地，不然会出现数据不一致的现象，谨记！ </strong></p><p><strong>六、根据所使用的单片机采用位宽进行赋值拷贝优化，可以有效减少处理数据的时钟周期。</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;一、IDE在线调试问题，点击调试遇到Fail to read registers，该问题有可能是设备当前运行的程序存在低功耗休眠的代码，导致芯片进入休眠状态无法调试，可以先暂时屏蔽低功耗代码进行相关工程代码的调试。 &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;str
      
    
    </summary>
    
      <category term="单片机" scheme="http://www.hndev.cn/categories/%E5%8D%95%E7%89%87%E6%9C%BA/"/>
    
    
  </entry>
  
  <entry>
    <title>单片机开发基础概念篇</title>
    <link href="http://www.hndev.cn/2018/02/09/%E5%8D%95%E7%89%87%E6%9C%BA%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E7%AF%87/"/>
    <id>http://www.hndev.cn/2018/02/09/单片机开发基础概念篇/</id>
    <published>2018-02-09T09:30:45.000Z</published>
    <updated>2018-12-08T07:04:48.199Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、SPI总线"><a href="#一、SPI总线" class="headerlink" title="一、SPI总线 "></a>一、SPI总线 </h2><p>SPI接口是Motorola 首先提出的全双工三线同步串行外围接口，采用主从模式（Master Slave）架构；支持多slave模式应用，一般仅支持单Master。<br>时钟由Master控制，在时钟移位脉冲下，数据按位传输，高位在前，低位在后（MSB first）；SPI接口有2根单向数据线，为全双工通信，目前应用中的数据速率可达几Mbps的水平。<br>一般应用4根信号线：<br>MOSI：主器件数据输出，从器件数据输入<br>MISO：主器件数据输入，从器件数据输出<br>SCK：时钟信息，由主设备控制发出<br>SS：从设备选择信号，由主设备控制   </p><p>根据时钟极性（CPOL）和相位（CPHA）组成4种工作模式：<br>SPI0：CPOL=0,CPHA=0<br>SPI1：CPOL=0,CPHA=1<br>SPI2：CPOL=1,CPHA=0<br>SPI3：CPOL=1,CPHA=1<br>其中SPI0和SPI3为常用   </p><h2 id="二、QFP"><a href="#二、QFP" class="headerlink" title="二、QFP "></a>二、QFP </h2><p>方型扁平式封装技术（Plastic Quad Flat Package），该技术实现的CPU芯片引脚之间距离很小，管脚很细，一般大规模或超大规模集成电路采用这种封装形式，其引脚数一般都在100以上。该技术封装CPU时操作方便，可靠性高；而且其封装外形尺寸较小，寄生参数减小，适合高频应用；该技术主要适合用SMT表面安装技术在PCB上安装布线。   </p><h2 id="三、SRAM"><a href="#三、SRAM" class="headerlink" title="三、SRAM "></a>三、SRAM </h2><p>SRAM（静态随机存取存储器）不需要刷新电路即能保存它内部存储的数据。而DRAM（Dynamic Random Access Memory)每隔一段时间，要刷新充电一次，否则内部的数据即会消失，因此SRAM具有较高的性能，功耗较小，但是SRAM也有它的缺点，即它的集成度较低，相同容量的DRAM内存可以设计为较小的体积，但是SRAM却需要很大的体积。同样面积的硅片可以做出更大容量的DRAM，因此SRAM显得更贵。   </p><h2 id="四、I2C"><a href="#四、I2C" class="headerlink" title="四、I2C"></a>四、I2C</h2><p>总线 I2C（Inter－Integrated Circuit）总线是由PHILIPS公司开发的两线式串行总线，用于连接微控制器及其外围设备。是微电子通信控制领域广泛采用的一种总线标准。它是同步通信的一种特殊形式，具有接口线少，控制方式简单，器件封装形式小，通信速率较高等优点。I2C 总线支持任何IC 生产工艺(CMOS、双极型）。通过串行数据（SDA）线和串行时钟 （SCL）线在连接到总线的器件间传递信息。每个器件都有一个唯一的地址识别（无论是微控制器——MCU、LCD 驱动器、存储器或键盘接口），而且都可以作为一个发送器或接收器（由器件的功能决定）。LCD 驱动器只能作为接收器，而存储器则既可以接收又可以发送数据。除了发送器和接收器外，器件在执行数据传输时也可以被看作是主机或从机（见表1）。主机是初始化总线的数据传输并产生允许传输的时钟信号的器件。此时，任何被寻址的器件都被认为是从机。<br>I2C总线（I2C bus，Inter-IC bus）是一个双向的两线连续总线，提供集成电路（ICs）之间的通信线路。I2C总线是一种串行扩展技术，最早由Philips公司推出，广泛应用于电视，录像机和音频设备。I2C总线的意思是“完成集成电路或功能单元之间信息交换的规范或协议”。Philips公司推出的I2C总线采用一条数据线（SDA），加一条时钟线（SCL）来完成数据的传输及外围器件的扩展；对各个节点的寻址是软寻址方式，节省了片选线，标准的寻址字节SLAM为7位，可以寻址127个单元。<br>I2C总线有三种数据传输速度：标准，快速模式和高速模式。标准的是100Kbps，快速模式为400Kbps，高速模式支持快至3.4Mbps的速度。所有的与次之传输速度的模式都是兼容的。I2C总线支持7位和10位地址空间设备和在不同电压下运行的设备。 </p><h2 id="五、DMA（直接存储器访问）"><a href="#五、DMA（直接存储器访问）" class="headerlink" title="五、DMA（直接存储器访问） "></a>五、DMA（直接存储器访问） </h2><p>DMA(Direct Memory Access，直接内存存取) 是所有现代电脑的重要特色，它允许不同速度的硬件装置来沟通，而不需要依赖于 CPU 的大量中断负载。否则，CPU 需要从来源把每一片段的资料复制到暂存器，然后把它们再次写回到新的地方。在这个时间中，CPU 对于其他的工作来说就无法使用。<br>一个完整的DMA传输过程必须经过DMA请求、DMA响应、DMA传输、DMA结束4个步骤。<br>DMA技术的出现，使得外围设备可以通过DMA控制器直接访问内存，与此同时，CPU可以继续执行程序．那么DMA控制器与CPU怎样分时使用内存呢?通常采用以下三种方法：<br>(1)停止CPU访内存；<br>(2)周期挪用；<br>(3)DMA与CPU交替访问内存． </p><h2 id="六、Watchdog"><a href="#六、Watchdog" class="headerlink" title="六、Watchdog "></a>六、Watchdog </h2><p>看门狗，又叫 watchdog timer，是一个定时器电路，一般有一个输入，叫喂狗，一个输出到MCU的RST端，MCU正常工作的时候，每隔一段时间输出一个信号到喂狗端，给 WDT 清零，如果超过规定时间不喂狗(一般在程序跑飞时)，WDT 定时超过，就会给出一个复位信号到MCU，使MCU复位。防止MCU死机. 看门狗的作用就是防止程序发生死循环或者说程序跑飞。 </p><h2 id="七、QFN"><a href="#七、QFN" class="headerlink" title="七、QFN "></a>七、QFN </h2><p>QFN是一种无引脚封装，呈正方形或矩形，封装底部中央位置有一个大面积裸露焊盘用来导热，围绕大焊盘的封装外围四周有实现电气连结的导电焊盘。由于QFN封装不像传统的SOIC与TSOP封装那样具有鸥翼状引线，内部引脚与焊盘之间的导电路径短，自感系数以及封装体内布线电阻很低，所以它能提供卓越的电性能。此外，它还通过外露的引线框架焊盘提供了出色的散热性能，该焊盘具有直接散热通道，用于释放封装内的热量。通常将散热焊盘直接焊接在电路板上，并且PCB中的散热过孔有助于将多余的功耗扩散到铜接地板中，从而吸收多余的热量。 </p><h2 id="八、SCI、UART与RS232"><a href="#八、SCI、UART与RS232" class="headerlink" title="八、SCI、UART与RS232 "></a>八、SCI、UART与RS232 </h2><p>SCI（Serial Communication Interface)意为“串行通信接口”，是相对于并行通信的，是串行通信技术的一种总称，最早由Motolora公司提出的。 UART（Universal Asynchronous Receiver &amp; Transmitter)即通用异步收发器，是串行通信的一种协议，它规定串行通信的波特率、起始/停止位、数据位、校验位等格式，以及各种异步握手信号。<br>RS232是串行通信的一种物理接口电气标准，规定传输介质（电缆）、收发电平等。<br>其实，RS232、RS422、RS485等都是SCI，其中两线制（仅RXD和TXD）的RS232与RS422和RS485的通信协议是相同的（只有波特率、起始/停止位、数据位、校验位等参数），仅传输介质和收发电平不同</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;一、SPI总线&quot;&gt;&lt;a href=&quot;#一、SPI总线&quot; class=&quot;headerlink&quot; title=&quot;一、SPI总线 &quot;&gt;&lt;/a&gt;一、SPI总线 &lt;/h2&gt;&lt;p&gt;SPI接口是Motorola 首先提出的全双工三线同步串行外围接口，采用主从模式（Master 
      
    
    </summary>
    
      <category term="单片机" scheme="http://www.hndev.cn/categories/%E5%8D%95%E7%89%87%E6%9C%BA/"/>
    
    
  </entry>
  
  <entry>
    <title>单片机开发遇到的经验总结（持续更新）</title>
    <link href="http://www.hndev.cn/2017/06/22/%E5%8D%95%E7%89%87%E6%9C%BA%E5%BC%80%E5%8F%91%E9%81%87%E5%88%B0%E7%9A%84%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93%EF%BC%88%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0%EF%BC%89/"/>
    <id>http://www.hndev.cn/2017/06/22/单片机开发遇到的经验总结（持续更新）/</id>
    <published>2017-06-22T09:13:19.000Z</published>
    <updated>2018-12-08T07:07:39.037Z</updated>
    
    <content type="html"><![CDATA[<p>该文章记录自己在单片机开发调试过程中遇到的坑和解决办法；</p><h3 id="0x01-函数中声明大数组局部变量并初始化数据是一个非常耗时的操作，如果非要声明大数组，则声明时不进行初始化，根据需要进行部分初始化。"><a href="#0x01-函数中声明大数组局部变量并初始化数据是一个非常耗时的操作，如果非要声明大数组，则声明时不进行初始化，根据需要进行部分初始化。" class="headerlink" title="0x01 函数中声明大数组局部变量并初始化数据是一个非常耗时的操作，如果非要声明大数组，则声明时不进行初始化，根据需要进行部分初始化。"></a>0x01 函数中声明大数组局部变量并初始化数据是一个非常耗时的操作，如果非要声明大数组，则声明时不进行初始化，根据需要进行部分初始化。</h3><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">u8</span> <span class="class"><span class="keyword">data</span>\[2048\] = &#123;0&#125;;//该声明会导致单片机进行memset耗时操作</span></span><br></pre></td></tr></table></figure><p>改为： </p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">u8 data<span class="tag">\<span class="name">[</span></span>2048<span class="tag">\<span class="name">]</span></span>; </span><br><span class="line">data<span class="tag">\<span class="name">[</span></span>0<span class="tag">\<span class="name">]</span>=<span class="number">0</span></span>x00;//根据具体业务进行赋值操作</span><br></pre></td></tr></table></figure><h3 id="0x02-中断优先级很重要，在没有使用嵌套中断的情况下，当有两个中断同时触发时将会按照优先级处理优先级高的中断，如果刚处理完优先级高的中断，然后又来了个优先级高的中断，则会继续处理高优先级中断，这种情况下很有可能导致低优先级的中断迟迟不能触发，最后引起低优先级中断丢失的可能性；"><a href="#0x02-中断优先级很重要，在没有使用嵌套中断的情况下，当有两个中断同时触发时将会按照优先级处理优先级高的中断，如果刚处理完优先级高的中断，然后又来了个优先级高的中断，则会继续处理高优先级中断，这种情况下很有可能导致低优先级的中断迟迟不能触发，最后引起低优先级中断丢失的可能性；" class="headerlink" title="0x02 中断优先级很重要，在没有使用嵌套中断的情况下，当有两个中断同时触发时将会按照优先级处理优先级高的中断，如果刚处理完优先级高的中断，然后又来了个优先级高的中断，则会继续处理高优先级中断，这种情况下很有可能导致低优先级的中断迟迟不能触发，最后引起低优先级中断丢失的可能性；"></a>0x02 中断优先级很重要，在没有使用嵌套中断的情况下，当有两个中断同时触发时将会按照优先级处理优先级高的中断，如果刚处理完优先级高的中断，然后又来了个优先级高的中断，则会继续处理高优先级中断，这种情况下很有可能导致低优先级的中断迟迟不能触发，最后引起低优先级中断丢失的可能性；</h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;该文章记录自己在单片机开发调试过程中遇到的坑和解决办法；&lt;/p&gt;
&lt;h3 id=&quot;0x01-函数中声明大数组局部变量并初始化数据是一个非常耗时的操作，如果非要声明大数组，则声明时不进行初始化，根据需要进行部分初始化。&quot;&gt;&lt;a href=&quot;#0x01-函数中声明大数组局部变量
      
    
    </summary>
    
      <category term="单片机" scheme="http://www.hndev.cn/categories/%E5%8D%95%E7%89%87%E6%9C%BA/"/>
    
    
  </entry>
  
  <entry>
    <title>iOS苹果应用上架（五）Xcode工程配置及打包上传</title>
    <link href="http://www.hndev.cn/2017/06/14/iOS%E8%8B%B9%E6%9E%9C%E5%BA%94%E7%94%A8%E4%B8%8A%E6%9E%B6%EF%BC%88%E4%BA%94%EF%BC%89Xcode%E5%B7%A5%E7%A8%8B%E9%85%8D%E7%BD%AE%E5%8F%8A%E6%89%93%E5%8C%85%E4%B8%8A%E4%BC%A0/"/>
    <id>http://www.hndev.cn/2017/06/14/iOS苹果应用上架（五）Xcode工程配置及打包上传/</id>
    <published>2017-06-14T08:29:16.000Z</published>
    <updated>2018-12-08T06:00:18.593Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0x01-打开Xcode代码工程，操作如下"><a href="#0x01-打开Xcode代码工程，操作如下" class="headerlink" title="0x01 打开Xcode代码工程，操作如下"></a>0x01 打开Xcode代码工程，操作如下</h2><p><img src="/upload/old/201706WX20170614-154128.png" alt=""></p><h2 id="0x02-取消签名自动管理功能，选择之前安装好的Provision文件，另外可以需要设置应用的版本号Version和Build信息，如1-0"><a href="#0x02-取消签名自动管理功能，选择之前安装好的Provision文件，另外可以需要设置应用的版本号Version和Build信息，如1-0" class="headerlink" title="0x02 取消签名自动管理功能，选择之前安装好的Provision文件，另外可以需要设置应用的版本号Version和Build信息，如1.0"></a>0x02 取消签名自动管理功能，选择之前安装好的Provision文件，另外可以需要设置应用的版本号Version和Build信息，如1.0</h2><p><img src="/upload/old/201706WX20170614-154311.png" alt=""></p><h2 id="0x03-点击选择，配置工程为真机编译选项"><a href="#0x03-点击选择，配置工程为真机编译选项" class="headerlink" title="0x03 点击选择，配置工程为真机编译选项"></a>0x03 点击选择，配置工程为真机编译选项</h2><p><img src="/upload/old/201706WX20170614-154504.png" alt=""></p><p><img src="/upload/old/201706屏幕快照-2017-06-14-下午3.44.00.png" alt=""></p><h2 id="0x04-然后开始进行打包操作"><a href="#0x04-然后开始进行打包操作" class="headerlink" title="0x04 然后开始进行打包操作"></a>0x04 然后开始进行打包操作</h2><p><img src="/upload/old/201706屏幕快照-2017-06-14-下午3.45.21.png" alt=""></p><h2 id="0x05-编译成功的话，会弹出下框，选择打包好的版本，然后点击上传苹果商店"><a href="#0x05-编译成功的话，会弹出下框，选择打包好的版本，然后点击上传苹果商店" class="headerlink" title="0x05 编译成功的话，会弹出下框，选择打包好的版本，然后点击上传苹果商店"></a>0x05 编译成功的话，会弹出下框，选择打包好的版本，然后点击上传苹果商店</h2><p><img src="/upload/old/201706WX20170614-155555.png" alt=""></p><h2 id="0x06-选择对应的苹果账号，点击Choose"><a href="#0x06-选择对应的苹果账号，点击Choose" class="headerlink" title="0x06 选择对应的苹果账号，点击Choose"></a>0x06 选择对应的苹果账号，点击Choose</h2><p><img src="/upload/old/201706WX20170614-155708.png" alt=""></p><h2 id="0x07-接着网络畅通的话会显示如下信息，继续点击Upload"><a href="#0x07-接着网络畅通的话会显示如下信息，继续点击Upload" class="headerlink" title="0x07 接着网络畅通的话会显示如下信息，继续点击Upload"></a>0x07 接着网络畅通的话会显示如下信息，继续点击Upload</h2><p><img src="/upload/old/201706WX20170614-155732.png" alt=""></p><h2 id="0x08-如果你幸运的话，会看到如下结果，恭喜你上传版本成功。否则有可能网络或者APP包等其它原因弹出错误。"><a href="#0x08-如果你幸运的话，会看到如下结果，恭喜你上传版本成功。否则有可能网络或者APP包等其它原因弹出错误。" class="headerlink" title="0x08 如果你幸运的话，会看到如下结果，恭喜你上传版本成功。否则有可能网络或者APP包等其它原因弹出错误。"></a>0x08 如果你幸运的话，会看到如下结果，恭喜你上传版本成功。否则有可能网络或者APP包等其它原因弹出错误。</h2><p><img src="/upload/old/201706WX20170614-155912.png" alt=""></p><h2 id="0x09-上传的应用会在iTunes-Connect里面看到构建版本"><a href="#0x09-上传的应用会在iTunes-Connect里面看到构建版本" class="headerlink" title="0x09 上传的应用会在iTunes Connect里面看到构建版本"></a>0x09 上传的应用会在iTunes Connect里面看到构建版本</h2><p><img src="/upload/old/201706WX20170614-162830.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;0x01-打开Xcode代码工程，操作如下&quot;&gt;&lt;a href=&quot;#0x01-打开Xcode代码工程，操作如下&quot; class=&quot;headerlink&quot; title=&quot;0x01 打开Xcode代码工程，操作如下&quot;&gt;&lt;/a&gt;0x01 打开Xcode代码工程，操作如下&lt;/
      
    
    </summary>
    
      <category term="移动端开发" scheme="http://www.hndev.cn/categories/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="ios" scheme="http://www.hndev.cn/tags/ios/"/>
    
  </entry>
  
  <entry>
    <title>iOS苹果应用上架（四）在iTunes Connect中创建苹果应用</title>
    <link href="http://www.hndev.cn/2017/06/14/iOS%E8%8B%B9%E6%9E%9C%E5%BA%94%E7%94%A8%E4%B8%8A%E6%9E%B6%EF%BC%88%E5%9B%9B%EF%BC%89%E5%9C%A8iTunes%20Connect%E4%B8%AD%E5%88%9B%E5%BB%BA%E8%8B%B9%E6%9E%9C%E5%BA%94%E7%94%A8/"/>
    <id>http://www.hndev.cn/2017/06/14/iOS苹果应用上架（四）在iTunes Connect中创建苹果应用/</id>
    <published>2017-06-14T08:14:12.000Z</published>
    <updated>2018-12-08T05:57:22.234Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0x01-继续登录官方开发者网站，点击进入iTunes-Connect"><a href="#0x01-继续登录官方开发者网站，点击进入iTunes-Connect" class="headerlink" title="0x01 继续登录官方开发者网站，点击进入iTunes Connect"></a>0x01 继续登录官方开发者网站，点击进入iTunes Connect</h2><p><img src="/upload/old/201706WX20170614-142606.png" alt=""></p><h2 id="0x02-点击进入我的App"><a href="#0x02-点击进入我的App" class="headerlink" title="0x02 点击进入我的App"></a>0x02 点击进入我的App</h2><p><img src="/upload/old/201706WX20170614-161004.png" alt=""></p><h2 id="0x03-点击-号新建App"><a href="#0x03-点击-号新建App" class="headerlink" title="0x03 点击+号新建App"></a>0x03 点击+号新建App</h2><p><img src="/upload/old/201706WX20170614-154927.png" alt=""></p><h2 id="0x04-如下图，填写并创建APP"><a href="#0x04-如下图，填写并创建APP" class="headerlink" title="0x04 如下图，填写并创建APP"></a>0x04 如下图，填写并创建APP</h2><p><img src="/upload/old/201706WX20170614-155214.png" alt=""></p><h2 id="0x05-已经能够看到创建好的APP，可以点击进入编辑信息"><a href="#0x05-已经能够看到创建好的APP，可以点击进入编辑信息" class="headerlink" title="0x05 已经能够看到创建好的APP，可以点击进入编辑信息"></a>0x05 已经能够看到创建好的APP，可以点击进入编辑信息</h2><p><img src="/upload/old/201706WX20170614-155308.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;0x01-继续登录官方开发者网站，点击进入iTunes-Connect&quot;&gt;&lt;a href=&quot;#0x01-继续登录官方开发者网站，点击进入iTunes-Connect&quot; class=&quot;headerlink&quot; title=&quot;0x01 继续登录官方开发者网站，点击进入i
      
    
    </summary>
    
      <category term="移动端开发" scheme="http://www.hndev.cn/categories/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="ios" scheme="http://www.hndev.cn/tags/ios/"/>
    
  </entry>
  
  <entry>
    <title>iOS苹果应用上架（三）根据APP包名创建Provision文件</title>
    <link href="http://www.hndev.cn/2017/06/14/iOS%E8%8B%B9%E6%9E%9C%E5%BA%94%E7%94%A8%E4%B8%8A%E6%9E%B6%EF%BC%88%E4%B8%89%EF%BC%89%E6%A0%B9%E6%8D%AEAPP%E5%8C%85%E5%90%8D%E5%88%9B%E5%BB%BAProvision%E6%96%87%E4%BB%B6/"/>
    <id>http://www.hndev.cn/2017/06/14/iOS苹果应用上架（三）根据APP包名创建Provision文件/</id>
    <published>2017-06-14T07:35:48.000Z</published>
    <updated>2018-12-08T05:53:05.978Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Provision文件用于打包指定APP包名的应用。</strong></p><h2 id="0x01-接上一节，登录官方开发网，进入证书、ID及配置文件管理界面，点击Provisioning-Profiles下的Distribution菜单，然后再点击右上角-号。"><a href="#0x01-接上一节，登录官方开发网，进入证书、ID及配置文件管理界面，点击Provisioning-Profiles下的Distribution菜单，然后再点击右上角-号。" class="headerlink" title="0x01 接上一节，登录官方开发网，进入证书、ID及配置文件管理界面，点击Provisioning Profiles下的Distribution菜单，然后再点击右上角+号。"></a>0x01 接上一节，登录官方开发网，进入证书、ID及配置文件管理界面，点击Provisioning Profiles下的Distribution菜单，然后再点击右上角+号。</h2><p><img src="/upload/old/201706WX20170614-143423.png" alt=""></p><h2 id="0x02-选择Distribution下AppStore选项，然后继续"><a href="#0x02-选择Distribution下AppStore选项，然后继续" class="headerlink" title="0x02 选择Distribution下AppStore选项，然后继续"></a>0x02 选择Distribution下AppStore选项，然后继续</h2><p><img src="/upload/old/201706WX20170614-143636.png" alt=""></p><h2 id="0x03-选择上一节创建好的APP-ID包名"><a href="#0x03-选择上一节创建好的APP-ID包名" class="headerlink" title="0x03 选择上一节创建好的APP ID包名"></a>0x03 选择上一节创建好的APP ID包名</h2><p><img src="/upload/old/201706WX20170614-143719.png" alt=""></p><h2 id="0x04-选择第一节创建的开发者证书"><a href="#0x04-选择第一节创建的开发者证书" class="headerlink" title="0x04 选择第一节创建的开发者证书"></a>0x04 选择第一节创建的开发者证书</h2><p><img src="/upload/old/201706WX20170614-143844.png" alt=""></p><h2 id="0x05-输入个Provision文件名"><a href="#0x05-输入个Provision文件名" class="headerlink" title="0x05 输入个Provision文件名"></a>0x05 输入个Provision文件名</h2><p><img src="/upload/old/201706WX20170614-143916.png" alt=""></p><h2 id="0x06-见下图，Provision文件创建完成"><a href="#0x06-见下图，Provision文件创建完成" class="headerlink" title="0x06 见下图，Provision文件创建完成"></a>0x06 见下图，Provision文件创建完成</h2><p><img src="/upload/old/201706WX20170614-144014.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;Provision文件用于打包指定APP包名的应用。&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;0x01-接上一节，登录官方开发网，进入证书、ID及配置文件管理界面，点击Provisioning-Profiles下的Distribution菜单，然后再点击右
      
    
    </summary>
    
      <category term="移动端开发" scheme="http://www.hndev.cn/categories/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="ios" scheme="http://www.hndev.cn/tags/ios/"/>
    
  </entry>
  
  <entry>
    <title>iOS苹果应用上架（二）创建APP包名</title>
    <link href="http://www.hndev.cn/2017/06/14/iOS%E8%8B%B9%E6%9E%9C%E5%BA%94%E7%94%A8%E4%B8%8A%E6%9E%B6%EF%BC%88%E4%BA%8C%EF%BC%89%E5%88%9B%E5%BB%BAAPP%E5%8C%85%E5%90%8D/"/>
    <id>http://www.hndev.cn/2017/06/14/iOS苹果应用上架（二）创建APP包名/</id>
    <published>2017-06-14T07:22:17.000Z</published>
    <updated>2018-12-08T05:55:32.450Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0x01-登录https-developer-apple-com网站，点击进入证书、ID及配置管理菜单"><a href="#0x01-登录https-developer-apple-com网站，点击进入证书、ID及配置管理菜单" class="headerlink" title="0x01 登录https://developer.apple.com网站，点击进入证书、ID及配置管理菜单"></a>0x01 登录<a href="https://developer.apple.com" target="_blank" rel="noopener">https://developer.apple.com</a>网站，点击进入证书、ID及配置管理菜单</h2><p><img src="/upload/old/201706WX20170614-142543.png" alt=""></p><h2 id="0x02-选择App-ID选项，点击右上角-号增加应用包名"><a href="#0x02-选择App-ID选项，点击右上角-号增加应用包名" class="headerlink" title="0x02 选择App ID选项，点击右上角+号增加应用包名"></a>0x02 选择App ID选项，点击右上角+号增加应用包名</h2><p><img src="/upload/old/201706WX20170614-142801.png" alt=""></p><h2 id="0x03-描述见下图"><a href="#0x03-描述见下图" class="headerlink" title="0x03 描述见下图"></a>0x03 描述见下图</h2><p><img src="/upload/old/201706WX20170614-143129.png" alt=""><br><img src="/upload/old/201706WX20170614-143225.png" alt=""></p><h2 id="0x04-点击注册按钮，完成应用包名创建"><a href="#0x04-点击注册按钮，完成应用包名创建" class="headerlink" title="0x04 点击注册按钮，完成应用包名创建"></a>0x04 点击注册按钮，完成应用包名创建</h2><p><img src="/upload/old/201706WX20170614-143248.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;0x01-登录https-developer-apple-com网站，点击进入证书、ID及配置管理菜单&quot;&gt;&lt;a href=&quot;#0x01-登录https-developer-apple-com网站，点击进入证书、ID及配置管理菜单&quot; class=&quot;headerlin
      
    
    </summary>
    
      <category term="移动端开发" scheme="http://www.hndev.cn/categories/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="ios" scheme="http://www.hndev.cn/tags/ios/"/>
    
  </entry>
  
  <entry>
    <title>iOS苹果应用上架（一）创建发布者证书</title>
    <link href="http://www.hndev.cn/2017/06/14/iOS%E8%8B%B9%E6%9E%9C%E5%BA%94%E7%94%A8%E4%B8%8A%E6%9E%B6%EF%BC%88%E4%B8%80%EF%BC%89%E5%88%9B%E5%BB%BA%E5%8F%91%E5%B8%83%E8%80%85%E8%AF%81%E4%B9%A6/"/>
    <id>http://www.hndev.cn/2017/06/14/iOS苹果应用上架（一）创建发布者证书/</id>
    <published>2017-06-14T06:58:12.000Z</published>
    <updated>2018-12-08T05:49:32.104Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0x01-打开Xcode工具，进入下图菜单"><a href="#0x01-打开Xcode工具，进入下图菜单" class="headerlink" title="0x01 打开Xcode工具，进入下图菜单"></a>0x01 打开Xcode工具，进入下图菜单</h2><p><img src="/upload/old/屏幕快照-2017-06-14-下午2.14.36.png" alt=""></p><h2 id="0x02-选择Account选项卡"><a href="#0x02-选择Account选项卡" class="headerlink" title="0x02 选择Account选项卡"></a>0x02 选择Account选项卡</h2><p><img src="/upload/old/201706WX20170614-141643.png" alt=""></p><h2 id="0x03-点击右下角-号，Add-Apple-ID增加苹果账号"><a href="#0x03-点击右下角-号，Add-Apple-ID增加苹果账号" class="headerlink" title="0x03 点击右下角+号，Add Apple ID增加苹果账号"></a>0x03 点击右下角+号，Add Apple ID增加苹果账号</h2><p><img src="/upload/old/201706屏幕快照-2017-06-14-下午2.16.59.png" alt=""></p><h2 id="0x04-输入自己的申请好的苹果账号和密码，Sign-In"><a href="#0x04-输入自己的申请好的苹果账号和密码，Sign-In" class="headerlink" title="0x04 输入自己的申请好的苹果账号和密码，Sign In"></a>0x04 输入自己的申请好的苹果账号和密码，Sign In</h2><p><img src="/upload/old/201706屏幕快照-2017-06-14-下午2.18.14.png" alt=""></p><h2 id="0x05-选择已登录的账号，然后点击View-Details"><a href="#0x05-选择已登录的账号，然后点击View-Details" class="headerlink" title="0x05 选择已登录的账号，然后点击View Details"></a>0x05 选择已登录的账号，然后点击View Details</h2><p><img src="/upload/old/201706WX20170614-142038.png" alt=""></p><h2 id="0x06-如果电脑中没有发布者证书，则红色箭头处会有一个Create按钮，点击该按钮进行iOS发布者证书创建"><a href="#0x06-如果电脑中没有发布者证书，则红色箭头处会有一个Create按钮，点击该按钮进行iOS发布者证书创建" class="headerlink" title="0x06 如果电脑中没有发布者证书，则红色箭头处会有一个Create按钮，点击该按钮进行iOS发布者证书创建"></a>0x06 如果电脑中没有发布者证书，则红色箭头处会有一个Create按钮，点击该按钮进行iOS发布者证书创建</h2><p><img src="/upload/old/201706WX20170614-142247.png" alt=""></p><h2 id="0x07-创建成功的话，在钥匙串应用中能够看见如下证书信息"><a href="#0x07-创建成功的话，在钥匙串应用中能够看见如下证书信息" class="headerlink" title="0x07 创建成功的话，在钥匙串应用中能够看见如下证书信息"></a>0x07 创建成功的话，在钥匙串应用中能够看见如下证书信息</h2><p><img src="/upload/old/201706WX20170614-142330.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;0x01-打开Xcode工具，进入下图菜单&quot;&gt;&lt;a href=&quot;#0x01-打开Xcode工具，进入下图菜单&quot; class=&quot;headerlink&quot; title=&quot;0x01 打开Xcode工具，进入下图菜单&quot;&gt;&lt;/a&gt;0x01 打开Xcode工具，进入下图菜单&lt;/
      
    
    </summary>
    
      <category term="移动端开发" scheme="http://www.hndev.cn/categories/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="ios" scheme="http://www.hndev.cn/tags/ios/"/>
    
  </entry>
  
  <entry>
    <title>各类总线传输速率（转）</title>
    <link href="http://www.hndev.cn/2017/04/18/%E5%90%84%E7%B1%BB%E6%80%BB%E7%BA%BF%E4%BC%A0%E8%BE%93%E9%80%9F%E7%8E%87%EF%BC%88%E8%BD%AC%EF%BC%89/"/>
    <id>http://www.hndev.cn/2017/04/18/各类总线传输速率（转）/</id>
    <published>2017-04-18T09:26:29.000Z</published>
    <updated>2018-12-08T07:13:02.947Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-USB总线"><a href="#1-USB总线" class="headerlink" title="1.USB总线"></a>1.USB总线</h2><p>USB1.1：<br>——-低速模式(low speed)：1.5Mbps<br>——-全速模式(full speed)： 12Mbps<br>USB2.0：<br>向下兼容。增加了高速模式，最大速率480Mbps。<br>——-高速模式(high speed)： 25~480Mbps </p><p>USB3.0：向下兼容。<br>——-super speed ：理论上最高达4.8Gbps，实际中，也就是high speed 的10倍左右。  </p><h2 id="2-UART"><a href="#2-UART" class="headerlink" title="2.UART"></a>2.UART</h2><p>RS232：传输速率一般不超过20Kbps，速率低，抗干扰能力差，RS-232C能传输的最大距离不超过15m（50英尺）。<br>RS422：定义了一种平衡通信接口，将传输速率提高到10Mbps，传输距离延长到4000英尺（速率低于100Kbps时），并允许在一条平衡总线上连接最多10个接收器。<br>RS-422是一种单机发送、多机接收的单向、平衡传输规范，被命名为TIA/EIA-422-A标准。<br>RS485：增加了多点、双向通信能力，即允许多个发送器连接到同一条总线上，同时增加了发送器的驱动能力和冲突保护特性，扩展了总线共模范围，后命名为TIA/EIA-485-A标准。最高传输速率10Mbps，抗干扰能力强，可以传距离1.5km。<br>平衡双绞线的长度与传输速率成反比，在100Kbps速率以下，才可能使用规定最长的电缆长度。只有在很短的距离下才能获得最高速率传输。一般100米长双绞线最大传输速率仅为1Mbps。  </p><h2 id="3-SPI总线"><a href="#3-SPI总线" class="headerlink" title="3.SPI总线"></a>3.SPI总线</h2><p>全双工通信，传输速率可达几Mbps水平，比I2C快。  </p><h2 id="4-I2C总线"><a href="#4-I2C总线" class="headerlink" title="4.I2C总线"></a>4.I2C总线</h2><p>半双工，只有2根线。数据线和时钟线。<br>——–标准速度：100kbps<br>——–快速模式：400kbps<br>——–高速模式：3.4Mbps  </p><h2 id="4-Ethernet，也就是通常的网速。"><a href="#4-Ethernet，也就是通常的网速。" class="headerlink" title="4.Ethernet，也就是通常的网速。"></a>4.Ethernet，也就是通常的网速。</h2><p>——–早期的以太网传输速率只有10Mbps。<br>——–百兆网：理论上最大100Mbps。<br>——–千兆网：理论上最大1Gbps。  </p><h2 id="5-SD总线：最高能达10Mbps。"><a href="#5-SD总线：最高能达10Mbps。" class="headerlink" title="5.SD总线：最高能达10Mbps。"></a>5.SD总线：最高能达10Mbps。</h2><h2 id="6-SATA接口："><a href="#6-SATA接口：" class="headerlink" title="6.SATA接口："></a>6.SATA接口：</h2><p>——–SATA1.0：理论传输速度是150MB/s（或者1.5Gb/s），实际也就30MBps。<br>——–SATA2.0： 300MBps，即3Gbps。实际也就80MBps。<br>——–SATA3.0： 600MBps，即6Gbps。<br>——–eSATA：理论传输速度可达到1.5Gbps或3Gbps。  </p><h2 id="7-PCI总线"><a href="#7-PCI总线" class="headerlink" title="7.PCI总线"></a>7.PCI总线</h2><p>——–PCI：32位，33MHz时钟频率，速率是33*4 = 133MBps，即1Gbps。<br>——–PCI 2.1：64位，66MHz时钟频率来说：速率是66*8 = 528MBps，即4Gbps。  </p><h2 id="8-PCI-e："><a href="#8-PCI-e：" class="headerlink" title="8.PCI-e："></a>8.PCI-e：</h2><p>PCI Express 总线频率 2500 MHz，这是在 100 MHz 的基准频率通过锁相环振荡器(Phase Lock Loop，PLL)达到的。<br>串行总线带宽(MB/s) = 串行总线时钟频率(MHz) <em> 串行总线位宽(bit/8 = B) </em> 串行总线管线 <em> 编码方式 </em> 每时钟传输几组数据(cycle)<br>——PCI Express x1 总线位宽是 1位，总线频率 2500 MHz，串行总线管线是 1 条，每时钟传输 2组数据，编码方式为 8b/10b，它的带宽为 476.84 MB/s，即 3814.7 Mbps。（带宽是 PCI 的 3.75 倍。）<br>公式是 2500000000(Hz) <em> 1/8(bit) </em> 1(条管线) <em> 8/10(bit) </em> 2(每时钟传输2组数据) = 500000000 B/s = 476.8371582 MB/s，即 3814.6972656 Mbps。<br>下面给出其它类型组合的带宽。<br>——PCI Express x2 的带宽为 953.68 MB/s，即 7629.4 Mbps。（此模式仅用于主板内部接口而非插槽模式）<br>——PCI Express x4 的带宽为 1907.36 MB/s，即 15258.9 Mbps。<br>——PCI Express x8 的带宽为 3814.72 MB/s，即 30517.8 Mbps。<br>——PCI Express x16 的带宽为 7629.44 MB/s，即 61035.5 Mbps。（带宽是 AGP 8X 的 3.75 倍。）<br>——PCI Express x32 的带宽为 15258.88 MB/s，即 122071 Mbps。</p><h2 id="9-XGMII-XLGMII-CGMII"><a href="#9-XGMII-XLGMII-CGMII" class="headerlink" title="9.XGMII/XLGMII/CGMII"></a>9.XGMII/XLGMII/CGMII</h2><p>在以太网标准中，MAC层与PHY层之间的10Gbps/40Gbps/100Gbps速率等级所对应的接口分别为XGMII/XLGMII/CGMII，由于XGMII/XLGMII是并行总线，而且采用的是单端信号，HSTL电平，最大传输距离只有7cm。所以在实际应用中，XGMII/XLGMII基本上被XAUI/XLAUI替代。XAUI/XLAUI是四通道串行总线，采用的差分信号，CML逻辑传输，并且进行了扰码，大大增强了信号的抗扰性能，使得信号的有效传输距离增加到50cm。<br>XAUI/XLAUI在物理结构上是一样的，收发通道独立，各四对差分信号线。对于XAUI总线，每对差分线上的数据速率为3.125Gbps，总数据带宽为12.5Gbps，有效带宽为12.5Gbps*0.8=10Gbps （因为XAUI总线数据在传输前进行了8B/10B变换，编码效率为80%）。<br>对于XLAUI总线，每对差分线上的数据速率为10.3125Gbps，总数据带宽为41.25Gbps，有效带宽为41.25Gbps*(64/66)=40Gbps（因为XLAUI总线数据在传输前进行了64B/66B变换，编码效率为96.97%）。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;1-USB总线&quot;&gt;&lt;a href=&quot;#1-USB总线&quot; class=&quot;headerlink&quot; title=&quot;1.USB总线&quot;&gt;&lt;/a&gt;1.USB总线&lt;/h2&gt;&lt;p&gt;USB1.1：&lt;br&gt;——-低速模式(low speed)：1.5Mbps&lt;br&gt;——-全速模式(f
      
    
    </summary>
    
      <category term="单片机" scheme="http://www.hndev.cn/categories/%E5%8D%95%E7%89%87%E6%9C%BA/"/>
    
    
  </entry>
  
  <entry>
    <title>在Mac OS上编译 SQLCipher</title>
    <link href="http://www.hndev.cn/2017/03/31/%E5%9C%A8Mac%20OS%E4%B8%8A%E7%BC%96%E8%AF%91%20SQLCipher/"/>
    <id>http://www.hndev.cn/2017/03/31/在Mac OS上编译 SQLCipher/</id>
    <published>2017-03-31T14:38:49.000Z</published>
    <updated>2018-12-08T07:13:44.345Z</updated>
    
    <content type="html"><![CDATA[<p>在sqlcipher官网给的方法没法在Mac OS上编译，所以做了以下记录，大家应该明白编译这东西是为了进行加密数据库的脱密或者加密。 </p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./configure --enable-load-extension <span class="attribute">--enable-tempstore</span>=<span class="literal">yes</span> <span class="attribute">--with-crypto-lib</span>=commoncrypto <span class="attribute">CFLAGS</span>=<span class="string">"-DSQLITE\_HAS\_CODEC -DSQLITE\_ENABLE\_FTS3"</span> <span class="attribute">LDFLAGS</span>=<span class="string">"/System/Library/Frameworks/Security.framework/Versions/Current/Security"</span> </span><br><span class="line">make</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;在sqlcipher官网给的方法没法在Mac OS上编译，所以做了以下记录，大家应该明白编译这东西是为了进行加密数据库的脱密或者加密。 &lt;/p&gt;
&lt;figure class=&quot;highlight routeros&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;
      
    
    </summary>
    
      <category term="开发工具" scheme="http://www.hndev.cn/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="mac os" scheme="http://www.hndev.cn/tags/mac-os/"/>
    
      <category term="sqlcipher" scheme="http://www.hndev.cn/tags/sqlcipher/"/>
    
  </entry>
  
  <entry>
    <title>单片机下的编码规范</title>
    <link href="http://www.hndev.cn/2017/03/06/%E5%8D%95%E7%89%87%E6%9C%BA%E4%B8%8B%E7%9A%84%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/"/>
    <id>http://www.hndev.cn/2017/03/06/单片机下的编码规范/</id>
    <published>2017-03-06T06:50:43.000Z</published>
    <updated>2018-12-08T06:59:44.546Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-模块描述"><a href="#1-模块描述" class="headerlink" title="1.模块描述"></a>1.模块描述</h2><p>模块是为了实现某一功能的函数的集合，文件名使用缺省的后缀，在每一模块的开头应有如下的描述体：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">/<span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="emphasis">***</span></span><br><span class="line"><span class="emphasis">***</span></span><br><span class="line"><span class="bullet">* </span>PROJECT CODE ：项目代号或名称 *</span><br><span class="line"><span class="bullet">* </span>CREATE DATE ：创建日期 *</span><br><span class="line"><span class="bullet">* </span>CREATED BY ：创建人 *</span><br><span class="line"><span class="bullet">* </span>FUNCTION ：模块功能 *</span><br><span class="line"><span class="bullet">* </span>MODIFY DATE ：修改日期 *</span><br><span class="line"><span class="bullet">* </span>DOCUMENT ：参考文档 *</span><br><span class="line"><span class="bullet">* </span>OTHERS ：程序员认为应做特别说明的部分，如特别的编译开关 *</span><br><span class="line"><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span>*/</span><br></pre></td></tr></table></figure></p><p>不同的修改人应在修改的地方加上适当的注释，包括修改人的姓名。另外，如有必要，要注明模块的工作平台，如单板OS、DOS、WINDOWS 等。注明适用的编译器和编译模式。</p><h2 id="2-函数描述"><a href="#2-函数描述" class="headerlink" title="2.函数描述"></a>2.函数描述</h2><p>函数是组成模块的单元，一般用来完成某一算法或控制等。在每一函数的开头应有如下的描述体：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">/<span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="emphasis">***</span></span><br><span class="line"><span class="emphasis">***</span></span><br><span class="line"><span class="bullet">* </span>FUNCTION NAME：函数名称 *</span><br><span class="line"><span class="bullet">* </span>CREATE DATE ：创建日期 *</span><br><span class="line"><span class="bullet">* </span>CREATED BY ：创建人 *</span><br><span class="line"><span class="bullet">* </span>FUNCTION ：函数功能 *</span><br><span class="line"><span class="bullet">* </span>MODIFY DATE ：修改日期 *</span><br><span class="line"><span class="bullet">* </span>INPUT ：输入参数类型(逐个说明) *</span><br><span class="line"><span class="bullet">* </span>OUTPUT ：输出参数类型(逐个说明) *</span><br><span class="line"><span class="bullet">* </span>RETURN ：返回信息 *</span><br><span class="line"><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span>*/</span><br><span class="line"></span><br><span class="line">可选的描述有：</span><br><span class="line"><span class="bullet">* </span>RECEIVED MESSAGES：收到的消息 *</span><br><span class="line"><span class="bullet">* </span>SENT MESSAGES ：发送的消息 *</span><br><span class="line"><span class="bullet">* </span>DATABASE ACCESS ：存取的数据库 *</span><br><span class="line"><span class="bullet">* </span>CALLED BY ：该函数的调用者 *</span><br><span class="line"><span class="bullet">* </span>PROCEDURES CALLED：调用的过程 *</span><br><span class="line"><span class="bullet">* </span>RECEVED PRIMITIVES : 收到的原语 *</span><br><span class="line"><span class="bullet">* </span>SENT PRIMITIVES : 发送的原语 *</span><br><span class="line">及其它程序员认为应有的描述。标题可以只大写第一个字母。例如：Function Name：</span><br></pre></td></tr></table></figure></p><h2 id="3-命名规则："><a href="#3-命名规则：" class="headerlink" title="3.命名规则："></a>3.命名规则：</h2><p>A) 函数： 函数名应能体现该函数完成的功能，关键部分应采用完整的单词，辅助部分若太长可采用缩写，缩写应符合英文的规范。每个单词的第一个字母大写。如：ShowPoints，CtrlDestBoard，SendResetMsg 等。 B) 变量： 变量的命名规则部分采用匈牙利命名规则(鼓励完全使用匈牙利名规则)。变量的第一个或前两个字母小写，表示其数据类型，其后每个词的第一个字母大写。推荐的类型前缀如下：<br><img src="/upload/old/20170326规范.png" alt="规范"><br>如iCurrentValue，uTransitionCount 等。对于其他复合类型或自定义类型，请用适当的前缀来表示。除局部循环变量外，不鼓励单个字母的变量名。<br>对于常用的类型定义，尽量使用WORD、BOOL、LPWORD、VOID、FAR、NEAR 等惯用写法，避免使用char、long、void、far、near 等小写格式。</p><h2 id="4-书写风格："><a href="#4-书写风格：" class="headerlink" title="4.书写风格："></a>4.书写风格：</h2><p>A) 函数：函数的返回类型一定要写，不管它是否默认类型，函数的参数之间应用一逗 号加一空格隔开,若有多个参数，应排列整齐。例如： </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">SendResetMsg</span><span class="params">( PTLAPENTITY pLAPEntity, <span class="keyword">int</span> iErrorNo )</span> </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line"><span class="keyword">int</span> iTempValue; </span><br><span class="line">. . . </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>函数的类型和上下两个括号应从第一列开始，函数的第一行应缩进一个TAB，不得用空格缩进。(按大多数程序范例，TAB 为四个字符宽，我们规定：TAB 为四个字符宽。) </p><p>B) 语句：循环语句和if 语句等块语句的第一个大括号‘{’可跟在第一行的后面，接 下来的语句应缩进一个TAB，如： </p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ( <span class="built_in">count</span> = <span class="number">0</span> ; <span class="built_in">count</span> &lt; MAXLINE ; <span class="built_in">count</span>++ ) &#123; </span><br><span class="line"><span class="keyword">if</span> ( (<span class="built_in">count</span> % PAGELINE) == <span class="number">0</span> ) </span><br><span class="line">&#123; </span><br><span class="line">. . . </span><br><span class="line">&#125; </span><br><span class="line">. . </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>也可另起一行，如： </p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ( <span class="built_in">count</span> = <span class="number">0</span> ; <span class="built_in">count</span> &lt; MAXLINE ; <span class="built_in">count</span>++ ) </span><br><span class="line">&#123; </span><br><span class="line"><span class="keyword">if</span> ( (<span class="built_in">count</span> % PAGELINE) == <span class="number">0</span> ) </span><br><span class="line">&#123; . . . &#125; </span><br><span class="line">. . </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>两种写法在世界著名的程序员手下均可见到，我们尊重个人的习惯，但推荐使用后一种写法。复杂表达式(两个运算符以上，含两个)必须用括号区分运算顺序，运算符的前后应各有一空格，习惯写在一行的几个语句(如IF 语句)，中间应有一空格，其它语句不鼓励写在同一行。<br>空格加在适当的地方，如 if ( ; for ( ; ) {;<br>语句的上下对齐也可使程序便于阅读，如： </p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">myStruct.iFirstNumber = <span class="number">0</span><span class="comment">; </span></span><br><span class="line">myStruct.lSecondNumber = <span class="number">1</span><span class="comment">;</span></span><br><span class="line">myStruct.pThePoint = NULL<span class="comment">;</span></span><br></pre></td></tr></table></figure><p>C) 常量：常量一般情况下可用宏定义，用大写的方式，单词之间用下划线隔开 如：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_LINE 100 </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PI 3.1415926</span></span><br></pre></td></tr></table></figure><p>不鼓励在程序中出现大量的数字常数。<br>注：对于一些有必要说明的缩写，可以在模块描述内加以说明。</p><h2 id="5-头文件："><a href="#5-头文件：" class="headerlink" title="5.头文件："></a>5.头文件：</h2><p>头文件一般包括了数据结构的定义，函数原形的说明，宏定义等，不许包含函数体和变量实体，文件名使用缺省的后缀.h，不使用类似.DEF 等非标准的后缀名，头文件的开始可包括如下的注释：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/<span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span></span><br><span class="line"><span class="bullet">* </span>CREATE DATE：创建日期 *</span><br><span class="line"><span class="bullet">* </span>CREATED BY ：创建人 *</span><br><span class="line"><span class="bullet">* </span>MODIFIED BY ：修改人 *</span><br><span class="line"><span class="bullet">* </span>USED BY ：由哪些模块使用 *</span><br><span class="line"><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span>*/</span><br></pre></td></tr></table></figure></p><p>为了避免重编译，应加上条件编译语句，如文件headfille.h 应包含下列语句：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __HEADFILE_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __HEADFILE_H</span></span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure></p><h2 id="6。注释："><a href="#6。注释：" class="headerlink" title="6。注释："></a>6。注释：</h2><p>注释是源码中非常重要的部分，不应少于源码行数的15%，我们希望能达到25%或更多。<br>注释用中英文都可以，但应易读易懂。不要在一个语句的中间插入注释。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;1-模块描述&quot;&gt;&lt;a href=&quot;#1-模块描述&quot; class=&quot;headerlink&quot; title=&quot;1.模块描述&quot;&gt;&lt;/a&gt;1.模块描述&lt;/h2&gt;&lt;p&gt;模块是为了实现某一功能的函数的集合，文件名使用缺省的后缀，在每一模块的开头应有如下的描述体：&lt;br&gt;&lt;fig
      
    
    </summary>
    
      <category term="单片机" scheme="http://www.hndev.cn/categories/%E5%8D%95%E7%89%87%E6%9C%BA/"/>
    
    
  </entry>
  
  <entry>
    <title>Centos Linux下部署Parse服务器</title>
    <link href="http://www.hndev.cn/2017/03/05/Centos%20Linux%E4%B8%8B%E9%83%A8%E7%BD%B2Parse%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    <id>http://www.hndev.cn/2017/03/05/Centos Linux下部署Parse服务器/</id>
    <published>2017-03-05T09:42:45.000Z</published>
    <updated>2018-12-08T05:15:04.031Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00 前言"></a>0x00 前言</h2><p>Parse是Facebook很有名的一个项目，能够帮助目前很多应用快速搭建平台快速开发，官网目前已经关闭，并在github提供开源，很好的一个东西。</p><h2 id="0x01-环境要求"><a href="#0x01-环境要求" class="headerlink" title="0x01 环境要求"></a>0x01 环境要求</h2><h3 id="1、MongoDB数据库"><a href="#1、MongoDB数据库" class="headerlink" title="1、MongoDB数据库"></a>1、MongoDB数据库</h3><p>1）下载命令如下：<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -O https:<span class="regexp">//</span>fastdl.mongodb.org<span class="regexp">/linux/m</span>ongodb-linux-x86_64-<span class="number">3.4</span>.<span class="number">2</span>.tgz </span><br><span class="line"></span><br><span class="line">tar -xvf mongodb-linux-x86\_64-<span class="number">3.4</span>.<span class="number">2</span>.tgz</span><br></pre></td></tr></table></figure></p><p>2）移动目录，配置环境变量：<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mv mongodb-linux-x86\_64-3.4.2 /opt/mongodb</span><br><span class="line"></span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">PATH</span>=&lt;mongodb-install-directory&gt;/bin:$PATH</span><br></pre></td></tr></table></figure></p><p>我的<mongodb-install-directory>就是/opt/mongodb</mongodb-install-directory></p><p>3）创建数据库目录：<br><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">mkdir</span> -p /<span class="class"><span class="keyword">data</span>/db</span></span><br></pre></td></tr></table></figure></p><p>/data/db 是 MongoDB 默认的启动的数据库路径(–dbpath)</p><p>4）执行mongod命令启动数据库</p><h3 id="2、Nodejs"><a href="#2、Nodejs" class="headerlink" title="2、Nodejs"></a>2、Nodejs</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">curl --<span class="keyword">silent</span> --location http<span class="variable">s:</span>//rpm.nodesource.<span class="keyword">com</span>/setup_6.<span class="keyword">x</span> | bash -</span><br><span class="line"></span><br><span class="line">yum -<span class="keyword">y</span> install nodejs</span><br><span class="line"></span><br><span class="line">yum install gcc-<span class="keyword">c</span>++ <span class="keyword">make</span></span><br></pre></td></tr></table></figure><p><a href="https://github.com/ParsePlatform/docs" target="_blank" rel="noopener">https://github.com/ParsePlatform/docs</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;0x00-前言&quot;&gt;&lt;a href=&quot;#0x00-前言&quot; class=&quot;headerlink&quot; title=&quot;0x00 前言&quot;&gt;&lt;/a&gt;0x00 前言&lt;/h2&gt;&lt;p&gt;Parse是Facebook很有名的一个项目，能够帮助目前很多应用快速搭建平台快速开发，官网目前已经
      
    
    </summary>
    
      <category term="服务端开发" scheme="http://www.hndev.cn/categories/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="parse" scheme="http://www.hndev.cn/tags/parse/"/>
    
      <category term="saas" scheme="http://www.hndev.cn/tags/saas/"/>
    
  </entry>
  
  <entry>
    <title>Linux下Gitblit的安装</title>
    <link href="http://www.hndev.cn/2017/03/05/Linux%E4%B8%8BGitblit%E7%9A%84%E5%AE%89%E8%A3%85/"/>
    <id>http://www.hndev.cn/2017/03/05/Linux下Gitblit的安装/</id>
    <published>2017-03-05T08:59:02.000Z</published>
    <updated>2018-12-08T06:33:53.378Z</updated>
    
    <content type="html"><![CDATA[<p>直接进入正题（下列操作都是以root用户执行）：</p><h3 id="1、去官网下载gitblit-1-8-0-tar-gz，我使用的是Go语言版本；"><a href="#1、去官网下载gitblit-1-8-0-tar-gz，我使用的是Go语言版本；" class="headerlink" title="1、去官网下载gitblit-1.8.0.tar.gz，我使用的是Go语言版本；"></a>1、去官网下载gitblit-1.8.0.tar.gz，我使用的是Go语言版本；</h3><h3 id="2、解压下载包"><a href="#2、解压下载包" class="headerlink" title="2、解压下载包"></a>2、解压下载包</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">tar</span> <span class="selector-tag">-xvf</span> <span class="selector-tag">gitblit-1</span><span class="selector-class">.8</span><span class="selector-class">.0</span><span class="selector-class">.tar</span><span class="selector-class">.gz</span></span><br></pre></td></tr></table></figure><h3 id="3、把解压的目录移动并改名"><a href="#3、把解压的目录移动并改名" class="headerlink" title="3、把解压的目录移动并改名"></a>3、把解压的目录移动并改名</h3><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv gitblit<span class="number">-1.8</span><span class="number">.0</span> /opt/gitblit</span><br></pre></td></tr></table></figure><h3 id="4、编辑配置文件"><a href="#4、编辑配置文件" class="headerlink" title="4、编辑配置文件"></a>4、编辑配置文件</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">vim</span> /<span class="meta">opt</span>/gitblit/<span class="meta">data</span>/defaults.properties</span><br></pre></td></tr></table></figure><p>我们只需要关注server.httpPort和server.httpsPort，就是访问的Web端口</p><h3 id="5、配置完成后可以执行脚本，初始化数据"><a href="#5、配置完成后可以执行脚本，初始化数据" class="headerlink" title="5、配置完成后可以执行脚本，初始化数据"></a>5、配置完成后可以执行脚本，初始化数据</h3><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> <span class="string">/opt/gitblit/</span> </span><br><span class="line"><span class="string">./gitblit.sh</span></span><br></pre></td></tr></table></figure><p>通过浏览器能够正常访问gitblit，这一步已经完成了基本部署。</p><h3 id="6、配置为服务，我使用的是Centos系统，执行如下"><a href="#6、配置为服务，我使用的是Centos系统，执行如下" class="headerlink" title="6、配置为服务，我使用的是Centos系统，执行如下"></a>6、配置为服务，我使用的是Centos系统，执行如下</h3><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> <span class="string">/opt/gitblit</span> <span class="string">./install-service-centos.sh</span></span><br></pre></td></tr></table></figure><h3 id="7、启动服务"><a href="#7、启动服务" class="headerlink" title="7、启动服务"></a>7、启动服务</h3><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service gitblit <span class="literal">start</span></span><br></pre></td></tr></table></figure><p>大功告成，谢谢。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;直接进入正题（下列操作都是以root用户执行）：&lt;/p&gt;
&lt;h3 id=&quot;1、去官网下载gitblit-1-8-0-tar-gz，我使用的是Go语言版本；&quot;&gt;&lt;a href=&quot;#1、去官网下载gitblit-1-8-0-tar-gz，我使用的是Go语言版本；&quot; class=
      
    
    </summary>
    
      <category term="开发工具" scheme="http://www.hndev.cn/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="gitblit" scheme="http://www.hndev.cn/tags/gitblit/"/>
    
  </entry>
  
  <entry>
    <title>ionic下native触发js事件</title>
    <link href="http://www.hndev.cn/2017/02/21/ionic%E4%B8%8Bnative%E8%A7%A6%E5%8F%91js%E4%BA%8B%E4%BB%B6/"/>
    <id>http://www.hndev.cn/2017/02/21/ionic下native触发js事件/</id>
    <published>2017-02-21T15:09:35.000Z</published>
    <updated>2018-12-08T05:41:55.437Z</updated>
    
    <content type="html"><![CDATA[<p><strong>说明一下本地层回调js事件的应用场景，推送、后台任务提醒、即时通讯等等；</strong></p><h2 id="一、在www-js-app-js中增加如下回调函数："><a href="#一、在www-js-app-js中增加如下回调函数：" class="headerlink" title="一、在www/js/app.js中增加如下回调函数："></a>一、在www/js/app.js中增加如下回调函数：</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ionicPlatform.ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="keyword">if</span> (<span class="built_in">window</span>.cordova &amp;&amp; <span class="built_in">window</span>.cordova.plugins &amp;&amp; <span class="built_in">window</span>.cordova.plugins.Keyboard) &#123;</span><br><span class="line">         cordova.plugins.Keyboard.hideKeyboardAccessoryBar(<span class="literal">true</span>);</span><br><span class="line">         cordova.plugins.Keyboard.disableScroll(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">if</span> (<span class="built_in">window</span>.StatusBar) &#123;</span><br><span class="line">         <span class="comment">// org.apache.cordova.statusbar required</span></span><br><span class="line">         StatusBar.styleDefault();</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="comment">//注册事件函数</span></span><br><span class="line">     <span class="keyword">var</span> onReceiveMaple = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">         alert(event.msg);</span><br><span class="line">     &#125;;</span><br><span class="line">     <span class="built_in">document</span>.addEventListener(<span class="string">"hndev.receiveMessage"</span>, onReceiveMaple, <span class="literal">false</span>);</span><br><span class="line"> &#125;);</span><br></pre></td></tr></table></figure><h2 id="二、在iOS插件中执行js命令，其它平台类似"><a href="#二、在iOS插件中执行js命令，其它平台类似" class="headerlink" title="二、在iOS插件中执行js命令，其它平台类似"></a>二、在iOS插件中执行js命令，其它平台类似</h2><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="name">CDVPlugin.commandDelegate</span> evalJs:</span><br><span class="line">    [<span class="name">NSString</span> stringWithFormat:@<span class="string">"cordova.fireDocumentEvent('hndev.%@',%@)"</span>, </span><br><span class="line">    eventName, jsString]]<span class="comment">;</span></span><br></pre></td></tr></table></figure><p>参数eventName为receiveMessage 参数jsString为传入回调函数的对象，必须为json。如 </p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">"msg"</span>:<span class="string">"Hello Maple!"</span>&#125;</span><br></pre></td></tr></table></figure><h2 id="三、详细可以参考极光推送的实现"><a href="#三、详细可以参考极光推送的实现" class="headerlink" title="三、详细可以参考极光推送的实现"></a>三、详细可以参考极光推送的实现</h2><p><a href="https://github.com/jpush/jpush-phonegap-plugin" target="_blank" rel="noopener">https://github.com/jpush/jpush-phonegap-plugin</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;说明一下本地层回调js事件的应用场景，推送、后台任务提醒、即时通讯等等；&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;一、在www-js-app-js中增加如下回调函数：&quot;&gt;&lt;a href=&quot;#一、在www-js-app-js中增加如下回调函数：&quot; class
      
    
    </summary>
    
      <category term="混合开发" scheme="http://www.hndev.cn/categories/%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="cordova" scheme="http://www.hndev.cn/tags/cordova/"/>
    
      <category term="ionic" scheme="http://www.hndev.cn/tags/ionic/"/>
    
  </entry>
  
  <entry>
    <title>Mac OS下互联网共享无法连接问题</title>
    <link href="http://www.hndev.cn/2017/02/20/Mac%20OS%E4%B8%8B%E4%BA%92%E8%81%94%E7%BD%91%E5%85%B1%E4%BA%AB%E6%97%A0%E6%B3%95%E8%BF%9E%E6%8E%A5%E9%97%AE%E9%A2%98/"/>
    <id>http://www.hndev.cn/2017/02/20/Mac OS下互联网共享无法连接问题/</id>
    <published>2017-02-20T07:57:18.000Z</published>
    <updated>2018-12-08T06:37:11.086Z</updated>
    
    <content type="html"><![CDATA[<p>这个问题折腾我好久了，今天终于解决了，如果你也遇到请试试下列方法： </p><h3 id="1、首先进入“系统偏好设置”-》“共享”，修改你的电脑名称，要求修改很简单的字母，如Maple；"><a href="#1、首先进入“系统偏好设置”-》“共享”，修改你的电脑名称，要求修改很简单的字母，如Maple；" class="headerlink" title="1、首先进入“系统偏好设置”-》“共享”，修改你的电脑名称，要求修改很简单的字母，如Maple；"></a>1、首先进入“系统偏好设置”-》“共享”，修改你的电脑名称，要求修改很简单的字母，如Maple；</h3><h3 id="2、如果你已经开启共享网络，请先关闭；"><a href="#2、如果你已经开启共享网络，请先关闭；" class="headerlink" title="2、如果你已经开启共享网络，请先关闭；"></a>2、如果你已经开启共享网络，请先关闭；</h3><h3 id="3、进入“系统偏好设置”-》“安全性与隐私”，选择“防火墙”，关闭防火墙。"><a href="#3、进入“系统偏好设置”-》“安全性与隐私”，选择“防火墙”，关闭防火墙。" class="headerlink" title="3、进入“系统偏好设置”-》“安全性与隐私”，选择“防火墙”，关闭防火墙。"></a>3、进入“系统偏好设置”-》“安全性与隐私”，选择“防火墙”，关闭防火墙。</h3><h3 id="4、删除以下文件："><a href="#4、删除以下文件：" class="headerlink" title="4、删除以下文件："></a>4、删除以下文件：</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/Library/Preferences/SystemConfiguration/com<span class="selector-class">.apple</span><span class="selector-class">.nat</span><span class="selector-class">.plist</span></span><br><span class="line">/Library/Preferences/SystemConfiguration/NetworkInterfaces.plist</span><br><span class="line">/Library/Preferences/SystemConfiguration/com<span class="selector-class">.apple</span><span class="selector-class">.airport</span><span class="selector-class">.preferences</span><span class="selector-class">.plist</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;这个问题折腾我好久了，今天终于解决了，如果你也遇到请试试下列方法： &lt;/p&gt;
&lt;h3 id=&quot;1、首先进入“系统偏好设置”-》“共享”，修改你的电脑名称，要求修改很简单的字母，如Maple；&quot;&gt;&lt;a href=&quot;#1、首先进入“系统偏好设置”-》“共享”，修改你的电脑名称，
      
    
    </summary>
    
      <category term="操作系统" scheme="http://www.hndev.cn/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
    
      <category term="mac os" scheme="http://www.hndev.cn/tags/mac-os/"/>
    
  </entry>
  
  <entry>
    <title>Cordova插件自定义iOS版</title>
    <link href="http://www.hndev.cn/2017/02/19/Cordova%E6%8F%92%E4%BB%B6%E8%87%AA%E5%AE%9A%E4%B9%89iOS%E7%89%88/"/>
    <id>http://www.hndev.cn/2017/02/19/Cordova插件自定义iOS版/</id>
    <published>2017-02-19T08:38:25.000Z</published>
    <updated>2018-12-08T05:22:07.591Z</updated>
    
    <content type="html"><![CDATA[<p>Cordova版本：6.0.0</p><h2 id="一、参考官网搭建基本环境"><a href="#一、参考官网搭建基本环境" class="headerlink" title="一、参考官网搭建基本环境"></a>一、参考官网搭建基本环境</h2><p><a href="http://cordova.apache.org/#getstarted" target="_blank" rel="noopener">http://cordova.apache.org/#getstarted</a> </p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cordova </span><br><span class="line">cordova create helloPlugin </span><br><span class="line">cordova platform <span class="keyword">add</span><span class="bash"> ios </span></span><br><span class="line"><span class="bash">cordova run ios</span></span><br></pre></td></tr></table></figure><p>按照上述操作已经搭建好了一个测试环境，我们做好后的插件就是在helloPlugin项目中做测试。</p><h2 id="二、继续参考官方文档搭建插件管理环境"><a href="#二、继续参考官方文档搭建插件管理环境" class="headerlink" title="二、继续参考官方文档搭建插件管理环境"></a>二、继续参考官方文档搭建插件管理环境</h2><p><a href="http://cordova.apache.org/docs/zh-cn/6.x/plugin_ref/plugman.html" target="_blank" rel="noopener">http://cordova.apache.org/docs/zh-cn/6.x/plugin_ref/plugman.html</a> </p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g plugman</span><br><span class="line">plugman create <span class="params">--name</span> dialog <span class="params">--plugin</span>\_id cordova-plugin-dialog <span class="params">--plugin</span>\_<span class="keyword">version</span> 0.1 <span class="params">--variable</span> author=Maple</span><br></pre></td></tr></table></figure><p>上述命令执行完，我们已经创建了一个插件目录。</p><h2 id="三、编写iOS版插件，其它平台类似"><a href="#三、编写iOS版插件，其它平台类似" class="headerlink" title="三、编写iOS版插件，其它平台类似"></a>三、编写iOS版插件，其它平台类似</h2><p><a href="http://cordova.apache.org/docs/zh-cn/6.x/guide/platforms/ios/plugin.html" target="_blank" rel="noopener">http://cordova.apache.org/docs/zh-cn/6.x/guide/platforms/ios/plugin.html</a> </p><p>1、参考官方文档创建一个iOS插件类： HndevDialog.h</p><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;UIKit/UIKit.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">&lt;Cordova/CDVPlugin.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">HndevDialog</span> : <span class="title">CDVPlugin</span></span></span><br><span class="line"></span><br><span class="line">\- (<span class="keyword">void</span>)showMessageBox:(CDVInvokedUrlCommand*)command;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line">HndevDialog.m:</span><br><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">"HndevDialog.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">HndevDialog</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)showMessageBox:(CDVInvokedUrlCommand*)command</span><br><span class="line">&#123;</span><br><span class="line">    CDVPluginResult* pluginResult = <span class="literal">nil</span>;</span><br><span class="line">    <span class="keyword">if</span> (command.arguments.count == <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="built_in">NSString</span>* title = [command.arguments objectAtIndex:<span class="number">0</span>];</span><br><span class="line">        <span class="built_in">NSString</span>* message = [command.arguments objectAtIndex:<span class="number">1</span>];</span><br><span class="line">        <span class="built_in">UIAlertView</span> *alertView = [[<span class="built_in">UIAlertView</span> alloc] initWithTitle:title message:message delegate:<span class="literal">nil</span> cancelButtonTitle:<span class="string">@"Cancel"</span> otherButtonTitles:<span class="literal">nil</span>, <span class="literal">nil</span>];</span><br><span class="line">        [alertView show];</span><br><span class="line">        pluginResult = [CDVPluginResult resultWithStatus:CDVCommandStatus_OK];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        pluginResult = [CDVPluginResult resultWithStatus:CDVCommandStatus_ERROR messageAsString:<span class="string">@"Arg was invalid."</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    [<span class="keyword">self</span>.commandDelegate sendPluginResult:pluginResult callbackId:command.callbackId];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure><p>把上述两个文件放到插件工程dialog/src/ios/目录下。编写上述类时可以使用xcode开发工具进行编写，编译没问题再直接拷过来。 </p><p>2、修改dialog/plugin.xml文件</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugin</span> <span class="attr">id</span>=<span class="string">"cordova-plugin-dialog"</span> <span class="attr">version</span>=<span class="string">"0.1"</span> <span class="attr">xmlns</span>=<span class="string">"http://apache.org/cordova/ns/plugins/1.0"</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">name</span>&gt;</span>dialog<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">AUTHOR</span>&gt;</span>Maple<span class="tag">&lt;/<span class="name">AUTHOR</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">js-module</span> <span class="attr">name</span>=<span class="string">"dialog"</span> <span class="attr">src</span>=<span class="string">"www/dialog.js"</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">clobbers</span> <span class="attr">target</span>=<span class="string">"cordova.plugins.dialog"</span> /&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">js-module</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">platform</span> <span class="attr">name</span>=<span class="string">"ios"</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">config-file</span> <span class="attr">target</span>=<span class="string">"config.xml"</span> <span class="attr">parent</span>=<span class="string">"/*"</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">feature</span> <span class="attr">name</span>=<span class="string">"HndevDialog"</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">"ios-package"</span> <span class="attr">value</span>=<span class="string">"HndevDialog"</span> /&gt;</span></span><br><span class="line">         <span class="tag">&lt;/<span class="name">feature</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">config-file</span>&gt;</span></span><br><span class="line"></span><br><span class="line">     <span class="tag">&lt;<span class="name">header-file</span> <span class="attr">src</span>=<span class="string">"src/ios/HndevDialog.h"</span> /&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">source-file</span> <span class="attr">src</span>=<span class="string">"src/ios/HndevDialog.m"</span> /&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">platform</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure><p>3、修改dialog/www/dialog.js文件</p><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var <span class="built_in">exec</span> = require('cordova/<span class="built_in">exec</span>');</span><br><span class="line"></span><br><span class="line">exports.<span class="keyword">show</span> = function(<span class="built_in">title</span>, msg, success, <span class="built_in">error</span>) &#123;</span><br><span class="line">    <span class="built_in">exec</span>(success, <span class="built_in">error</span>, <span class="string">"HndevDialog"</span>, <span class="string">"showMessageBox"</span>, [<span class="built_in">title</span>, msg]);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>到此插件的代码基本完成。</p><h2 id="四、安装插件并验证可用性"><a href="#四、安装插件并验证可用性" class="headerlink" title="四、安装插件并验证可用性"></a>四、安装插件并验证可用性</h2><p>回到第一章我们创建的helloPlugin项目目录 1、 cordova plugin add /Users/maple/Documents/ionic/dialog 上面的路径就是你的插件绝对路径。 2、在helloPlugin/www/js/index.js增加测试代码:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> app = &#123;</span><br><span class="line"> <span class="comment">// Application Constructor</span></span><br><span class="line"> initialize: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> <span class="keyword">this</span>.bindEvents();</span><br><span class="line"> &#125;,</span><br><span class="line"> <span class="comment">// Bind Event Listeners</span></span><br><span class="line"> <span class="comment">//</span></span><br><span class="line"> <span class="comment">// Bind any events that are required on startup. Common events are:</span></span><br><span class="line"> <span class="comment">// 'load', 'deviceready', 'offline', and 'online'.</span></span><br><span class="line"> bindEvents: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> <span class="built_in">document</span>.addEventListener(<span class="string">'deviceready'</span>, <span class="keyword">this</span>.onDeviceReady, <span class="literal">false</span>);</span><br><span class="line"> &#125;,</span><br><span class="line"> <span class="comment">// deviceready Event Handler</span></span><br><span class="line"> <span class="comment">//</span></span><br><span class="line"> <span class="comment">// The scope of 'this' is the event. In order to call the 'receivedEvent'</span></span><br><span class="line"> <span class="comment">// function, we must explicitly call 'app.receivedEvent(...);'</span></span><br><span class="line"> onDeviceReady: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">     app.receivedEvent(<span class="string">'deviceready'</span>);</span><br><span class="line"> <span class="keyword">var</span> dialog = cordova.require(<span class="string">'cordova-plugin-dialog.dialog'</span>);</span><br><span class="line"> dialog.show(<span class="string">'Dialog Title'</span>, <span class="string">'Hello Maple!'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> </span><br><span class="line"> &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">message</span>) </span>&#123;</span><br><span class="line"> alert(message);</span><br><span class="line"> &#125;);</span><br><span class="line"> </span><br><span class="line"> &#125;,</span><br><span class="line"> <span class="comment">// Update DOM on a Received Event</span></span><br><span class="line"> receivedEvent: <span class="function"><span class="keyword">function</span>(<span class="params">id</span>) </span>&#123;</span><br><span class="line"> <span class="keyword">var</span> parentElement = <span class="built_in">document</span>.getElementById(id);</span><br><span class="line"> <span class="keyword">var</span> listeningElement = parentElement.querySelector(<span class="string">'.listening'</span>);</span><br><span class="line"> <span class="keyword">var</span> receivedElement = parentElement.querySelector(<span class="string">'.received'</span>);</span><br><span class="line"></span><br><span class="line"> listeningElement.setAttribute(<span class="string">'style'</span>, <span class="string">'display:none;'</span>);</span><br><span class="line"> receivedElement.setAttribute(<span class="string">'style'</span>, <span class="string">'display:block;'</span>);</span><br><span class="line"></span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">'Received Event: '</span> + id);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">app.initialize();</span><br></pre></td></tr></table></figure><p>3、cordova run ios<br>执行效果如图：<br><img src="/upload/old/201702result.jpeg" alt="result"> 大功告成，<br>附上插件源码：<a href="https://github.com/angelmeng86/cordova-plugin-dialog" target="_blank" rel="noopener">https://github.com/angelmeng86/cordova-plugin-dialog</a><br>谢谢支持！</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Cordova版本：6.0.0&lt;/p&gt;
&lt;h2 id=&quot;一、参考官网搭建基本环境&quot;&gt;&lt;a href=&quot;#一、参考官网搭建基本环境&quot; class=&quot;headerlink&quot; title=&quot;一、参考官网搭建基本环境&quot;&gt;&lt;/a&gt;一、参考官网搭建基本环境&lt;/h2&gt;&lt;p&gt;&lt;a href
      
    
    </summary>
    
      <category term="混合开发" scheme="http://www.hndev.cn/categories/%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="cordova" scheme="http://www.hndev.cn/tags/cordova/"/>
    
  </entry>
  
  <entry>
    <title>ionic 安装问题汇总</title>
    <link href="http://www.hndev.cn/2017/02/14/ionic%20%E5%AE%89%E8%A3%85%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/"/>
    <id>http://www.hndev.cn/2017/02/14/ionic 安装问题汇总/</id>
    <published>2017-02-14T14:33:37.000Z</published>
    <updated>2018-12-08T05:38:56.209Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、ionic-info出现如下警告"><a href="#一、ionic-info出现如下警告" class="headerlink" title="一、ionic info出现如下警告 "></a>一、ionic info出现如下警告 </h1><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="emphasis">***</span>* </span><br><span class="line">Dependency warning - for the CLI to run correctly, it is highly recommended to install/upgrade the following: Please install your Cordova CLI to version  &gt;=4.2.0 \<span class="code">`npm install -g cordova\`</span> </span><br><span class="line"><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span><span class="emphasis">***</span>*</span><br></pre></td></tr></table></figure><p>解决办法： </p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">sudo</span> <span class="selector-tag">npm</span> <span class="selector-tag">install</span> <span class="selector-tag">-g</span> <span class="selector-tag">cordova</span>@<span class="keyword">6</span>.<span class="keyword">0</span>.<span class="keyword">0</span></span><br></pre></td></tr></table></figure><h1 id="二、ios-deploy无法安装-解决办法："><a href="#二、ios-deploy无法安装-解决办法：" class="headerlink" title="二、ios-deploy无法安装 解决办法："></a>二、ios-deploy无法安装 解决办法：</h1><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm <span class="keyword">install</span> -g ios-deploy --unsafe-perm=<span class="keyword">true</span></span><br></pre></td></tr></table></figure><h1 id="三、ionic-run-ios-–device真机调试失败"><a href="#三、ionic-run-ios-–device真机调试失败" class="headerlink" title="三、ionic run ios –device真机调试失败 "></a>三、ionic run ios –device真机调试失败 </h1><p>解决办法：<br>进入到项目目录platform/ios中，打开xcode项目，然后配置所使用的开发者账号和签名</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;一、ionic-info出现如下警告&quot;&gt;&lt;a href=&quot;#一、ionic-info出现如下警告&quot; class=&quot;headerlink&quot; title=&quot;一、ionic info出现如下警告 &quot;&gt;&lt;/a&gt;一、ionic info出现如下警告 &lt;/h1&gt;&lt;figure
      
    
    </summary>
    
      <category term="混合开发" scheme="http://www.hndev.cn/categories/%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="ionic" scheme="http://www.hndev.cn/tags/ionic/"/>
    
  </entry>
  
  <entry>
    <title>iOS开发小记</title>
    <link href="http://www.hndev.cn/2016/12/12/iOS%E5%BC%80%E5%8F%91%E5%B0%8F%E8%AE%B0/"/>
    <id>http://www.hndev.cn/2016/12/12/iOS开发小记/</id>
    <published>2016-12-12T12:22:20.000Z</published>
    <updated>2018-12-08T05:45:57.133Z</updated>
    
    <content type="html"><![CDATA[<h2 id="20150808"><a href="#20150808" class="headerlink" title="20150808 "></a>20150808 </h2><p>在使用nib加载view时，千万注意锚定功能合理选择，不然将会导致不可预知的高度缩放问题，因为iOS7以上版本，页面在加载时一般会进行一次缩放，这样它同时会对里面的控件也进行相应的缩放操作，谨记！</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;20150808&quot;&gt;&lt;a href=&quot;#20150808&quot; class=&quot;headerlink&quot; title=&quot;20150808 &quot;&gt;&lt;/a&gt;20150808 &lt;/h2&gt;&lt;p&gt;在使用nib加载view时，千万注意锚定功能合理选择，不然将会导致不可预知的高度缩放问题
      
    
    </summary>
    
      <category term="移动端开发" scheme="http://www.hndev.cn/categories/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="ios" scheme="http://www.hndev.cn/tags/ios/"/>
    
  </entry>
  
  <entry>
    <title>iOS UIScroll的一个BUG</title>
    <link href="http://www.hndev.cn/2016/12/12/iOS%20UIScroll%E7%9A%84%E4%B8%80%E4%B8%AABUG/"/>
    <id>http://www.hndev.cn/2016/12/12/iOS UIScroll的一个BUG/</id>
    <published>2016-12-12T12:18:01.000Z</published>
    <updated>2018-12-08T05:42:18.208Z</updated>
    
    <content type="html"><![CDATA[<p><strong>之前发现了个UIScroll的BUG，让我郁闷半天，就是当继承该类时，如果使用init方法初始化，其将依次调用initWithFrame和init。真的很让人费解。</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;之前发现了个UIScroll的BUG，让我郁闷半天，就是当继承该类时，如果使用init方法初始化，其将依次调用initWithFrame和init。真的很让人费解。&lt;/strong&gt;&lt;/p&gt;

      
    
    </summary>
    
      <category term="移动端开发" scheme="http://www.hndev.cn/categories/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="ios" scheme="http://www.hndev.cn/tags/ios/"/>
    
  </entry>
  
  <entry>
    <title>Android驱动设备节点自动创建</title>
    <link href="http://www.hndev.cn/2016/10/19/Android%E9%A9%B1%E5%8A%A8%E8%AE%BE%E5%A4%87%E8%8A%82%E7%82%B9%E8%87%AA%E5%8A%A8%E5%88%9B%E5%BB%BA/"/>
    <id>http://www.hndev.cn/2016/10/19/Android驱动设备节点自动创建/</id>
    <published>2016-10-19T03:08:15.000Z</published>
    <updated>2018-12-08T04:52:51.695Z</updated>
    
    <content type="html"><![CDATA[<h2 id="x00-背景"><a href="#x00-背景" class="headerlink" title="x00 背景"></a>x00 背景</h2><p>最近帮同事解决一个问题，就是在Ubuntu（主机）下编译的USB驱动程序，在设备热插拔的时候会自动创建设备节点，但是该驱动程序移植到Android系统下，则需要手动创建节点，该节点还需要手工配置DAC和MAC安全策略，对于实际使用中非常麻烦；</p><h2 id="0x01-问题分析及解决"><a href="#0x01-问题分析及解决" class="headerlink" title="0x01 问题分析及解决"></a>0x01 问题分析及解决</h2><p>参见文章《<a href="http://blog.chinaunix.net/uid-24545924-id-3128349.html" target="_blank" rel="noopener">Android Uevent 分析，从kernel到framework</a> 》 我们知道Android上层的uevent事件使用了自个的一套实现，接下来我们开发分析代码，源码文件：system/core/init/devices.c<br><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line">static void handle\_generic\_device_event(struct uevent *uevent)</span><br><span class="line">&#123;</span><br><span class="line">    char *base;</span><br><span class="line">    const char *<span class="keyword">name</span>;</span><br><span class="line">    char devpath\[DEVPATH_LEN\] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    char **links = NULL;</span><br><span class="line"></span><br><span class="line">    INFO(<span class="string">"lwz usb: generic\_device\_event start\\n"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">name</span> = parse\_device\_<span class="keyword">name</span>(uevent, <span class="number">64</span>);</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">name</span>)</span><br><span class="line">        return;</span><br><span class="line">    <span class="comment">//打印收到的热插拔事件信息</span></span><br><span class="line">    INFO(<span class="string">"maple usb1: device\_name:%s, major:%d, minor:%d, action:%s name:%s\\n"</span>,  <span class="function"><span class="title">uevent</span>-&gt;</span><span class="function"><span class="title">device</span>\_name, uevent-&gt;</span><span class="function"><span class="title">major</span>, uevent-&gt;</span><span class="function"><span class="title">minor</span>, uevent-&gt;</span>action, <span class="keyword">name</span>);</span><br><span class="line">    struct ueventd_subsystem *subsystem =</span><br><span class="line">            <span class="function"><span class="title">ueventd</span>\_subsystem\_find\_by\_name(uevent-&gt;</span>subsystem);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (subsystem) &#123;</span><br><span class="line">        const char *devname;</span><br><span class="line">        <span class="function"><span class="title">switch</span> (subsystem-&gt;</span>devname_src) &#123;</span><br><span class="line">        case DEVNAME\_UEVENT\_DEVNAME:</span><br><span class="line">            <span class="function"><span class="title">devname</span> = uevent-&gt;</span>device_name;</span><br><span class="line">            break;</span><br><span class="line"></span><br><span class="line">        case DEVNAME\_UEVENT\_DEVPATH:</span><br><span class="line">            devname = <span class="keyword">name</span>;</span><br><span class="line">            break;</span><br><span class="line"></span><br><span class="line">        default:</span><br><span class="line">            ERROR(<span class="string">"%s subsystem's devpath option is not set; ignoring event\\n"</span>,</span><br><span class="line">                    <span class="function"><span class="title">uevent</span>-&gt;</span>subsystem);</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="title">if</span> (!assemble_devpath(devpath, subsystem-&gt;</span>dirname, devname))</span><br><span class="line">            return;</span><br><span class="line">        mkdir\_recursive\_for_devpath(devpath);</span><br><span class="line">    &#125; <span class="function"><span class="title">else</span> <span class="keyword">if</span> (!strncmp(uevent-&gt;</span>subsystem, <span class="string">"usb"</span>, <span class="number">3</span>)) &#123;</span><br><span class="line">         <span class="function"><span class="title">if</span> (!strcmp(uevent-&gt;</span>subsystem, <span class="string">"usb"</span>)) &#123;</span><br><span class="line">            <span class="function"><span class="title">if</span> (uevent-&gt;</span>device_name) &#123;</span><br><span class="line">                <span class="function"><span class="title">if</span> (!assemble\_devpath(devpath, "/dev", uevent-&gt;</span>device\_<span class="keyword">name</span>))</span><br><span class="line">                    return;</span><br><span class="line">                mkdir\_recursive\_for_devpath(devpath);</span><br><span class="line">             &#125;</span><br><span class="line">             <span class="keyword">else</span> &#123;</span><br><span class="line">                 /\* This imitates the file system that would be created</span><br><span class="line">                  \* <span class="keyword">if</span> we were using devfs instead.</span><br><span class="line">                  \* Minors are broken up into groups of <span class="number">128</span>, starting <span class="built_in">at</span> <span class="string">"001"</span></span><br><span class="line">                  */</span><br><span class="line">                 <span class="function"><span class="title">int</span> bus_id = uevent-&gt;</span>minor / <span class="number">128</span> + <span class="number">1</span>;</span><br><span class="line">                 <span class="function"><span class="title">int</span> device_id = uevent-&gt;</span>minor % <span class="number">128</span> + <span class="number">1</span>;</span><br><span class="line">                 /\* build directories */</span><br><span class="line">                 make_dir(<span class="string">"/dev/bus"</span>, <span class="number">0755</span>);</span><br><span class="line">                 make_dir(<span class="string">"/dev/bus/usb"</span>, <span class="number">0755</span>);</span><br><span class="line">                 snprintf(devpath, sizeof(devpath), <span class="string">"/dev/bus/usb/%03d"</span>, bus_id);</span><br><span class="line">                 make_dir(devpath, <span class="number">0755</span>);</span><br><span class="line">                 snprintf(devpath, sizeof(devpath), <span class="string">"/dev/bus/usb/%03d/%03d"</span>, bus\_id, device\_id);</span><br><span class="line">             &#125;</span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">             /\* ignore other USB events */</span><br><span class="line">             <span class="comment">//忽略一些不符合上述条件的USB事件，并返回</span></span><br><span class="line">        INFO(<span class="string">"maple usb: ignore other USB events\\n"</span>);</span><br><span class="line">             <span class="comment">//我这里是通过判断创建的节点名称是否是我们想要的，如果是则继续往下执行进行节点的创建和移除操作</span></span><br><span class="line">         <span class="function"><span class="title">if</span>(!strncmp(uevent-&gt;</span>device_name, <span class="string">"myusb"</span>, <span class="number">5</span>)) &#123;</span><br><span class="line">        base = <span class="string">"/dev/"</span>;</span><br><span class="line">             &#125;</span><br><span class="line">             <span class="keyword">else</span></span><br><span class="line">             return;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125; <span class="function"><span class="title">else</span> <span class="keyword">if</span> (!strncmp(uevent-&gt;</span>subsystem, <span class="string">"graphics"</span>, <span class="number">8</span>)) &#123;</span><br><span class="line">         base = <span class="string">"/dev/graphics/"</span>;</span><br><span class="line">         make_dir(base, <span class="number">0755</span>);</span><br><span class="line">     &#125; <span class="function"><span class="title">else</span> <span class="keyword">if</span> (!strncmp(uevent-&gt;</span>subsystem, <span class="string">"drm"</span>, <span class="number">3</span>)) &#123;</span><br><span class="line">         base = <span class="string">"/dev/dri/"</span>;</span><br><span class="line">         make_dir(base, <span class="number">0755</span>);</span><br><span class="line">     &#125; <span class="function"><span class="title">else</span> <span class="keyword">if</span> (!strncmp(uevent-&gt;</span>subsystem, <span class="string">"oncrpc"</span>, <span class="number">6</span>)) &#123;</span><br><span class="line">         base = <span class="string">"/dev/oncrpc/"</span>;</span><br><span class="line">         make_dir(base, <span class="number">0755</span>);</span><br><span class="line">     &#125; <span class="function"><span class="title">else</span> <span class="keyword">if</span> (!strncmp(uevent-&gt;</span>subsystem, <span class="string">"adsp"</span>, <span class="number">4</span>)) &#123;</span><br><span class="line">         base = <span class="string">"/dev/adsp/"</span>;</span><br><span class="line">         make_dir(base, <span class="number">0755</span>);</span><br><span class="line">     &#125; <span class="function"><span class="title">else</span> <span class="keyword">if</span> (!strncmp(uevent-&gt;</span>subsystem, <span class="string">"msm_camera"</span>, <span class="number">10</span>)) &#123;</span><br><span class="line">         base = <span class="string">"/dev/msm_camera/"</span>;</span><br><span class="line">         make_dir(base, <span class="number">0755</span>);</span><br><span class="line">     &#125; <span class="function"><span class="title">else</span> <span class="keyword">if</span>(!strncmp(uevent-&gt;</span>subsystem, <span class="string">"input"</span>, <span class="number">5</span>)) &#123;</span><br><span class="line">         base = <span class="string">"/dev/input/"</span>;</span><br><span class="line">         make_dir(base, <span class="number">0755</span>);</span><br><span class="line">     &#125; <span class="function"><span class="title">else</span> <span class="keyword">if</span>(!strncmp(uevent-&gt;</span>subsystem, <span class="string">"mtd"</span>, <span class="number">3</span>)) &#123;</span><br><span class="line">         base = <span class="string">"/dev/mtd/"</span>;</span><br><span class="line">         make_dir(base, <span class="number">0755</span>);</span><br><span class="line">     &#125; <span class="function"><span class="title">else</span> <span class="keyword">if</span>(!strncmp(uevent-&gt;</span>subsystem, <span class="string">"sound"</span>, <span class="number">5</span>)) &#123;</span><br><span class="line">         base = <span class="string">"/dev/snd/"</span>;</span><br><span class="line">         make_dir(base, <span class="number">0755</span>);</span><br><span class="line">     &#125; <span class="function"><span class="title">else</span> <span class="keyword">if</span>(!strncmp(uevent-&gt;</span>subsystem, <span class="string">"misc"</span>, <span class="number">4</span>) &amp;&amp;</span><br><span class="line">                 !strncmp(<span class="keyword">name</span>, <span class="string">"log_"</span>, <span class="number">4</span>)) &#123;</span><br><span class="line">         kernel_logger();</span><br><span class="line">         base = <span class="string">"/dev/log/"</span>;</span><br><span class="line">         make_dir(base, <span class="number">0755</span>);</span><br><span class="line">         <span class="keyword">name</span> += <span class="number">4</span>;</span><br><span class="line">     &#125; <span class="function"><span class="title">else</span> <span class="keyword">if</span> (!strncmp(uevent-&gt;</span>subsystem, <span class="string">"dvb"</span>, <span class="number">3</span>)) &#123;</span><br><span class="line">         /\* This imitates the file system that would be created</span><br><span class="line">          \* <span class="keyword">if</span> we were using devfs instead to preserve backward compatibility</span><br><span class="line">          \* <span class="keyword">for</span> users of dvb devices</span><br><span class="line">          */</span><br><span class="line">         int adapter_id;</span><br><span class="line">         char dev_name\[<span class="number">20</span>\] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line">         sscanf(<span class="keyword">name</span>, <span class="string">"dvb%d.%s"</span>, &amp;adapter\_id, dev\_<span class="keyword">name</span>);</span><br><span class="line"></span><br><span class="line">         /\* build dvb directory */</span><br><span class="line">         base = <span class="string">"/dev/dvb"</span>;</span><br><span class="line">         mkdir(base, <span class="number">0755</span>);</span><br><span class="line"></span><br><span class="line">         /\* build adapter directory */</span><br><span class="line">         snprintf(devpath, sizeof(devpath), <span class="string">"/dev/dvb/adapter%d"</span>, adapter_id);</span><br><span class="line">         mkdir(devpath, <span class="number">0755</span>);</span><br><span class="line"></span><br><span class="line">         /\* build actual device directory */</span><br><span class="line">         snprintf(devpath, sizeof(devpath), <span class="string">"/dev/dvb/adapter%d/%s"</span>,</span><br><span class="line">                  adapter\_id, dev\_<span class="keyword">name</span>);</span><br><span class="line">     &#125; <span class="keyword">else</span></span><br><span class="line">         base = <span class="string">"/dev/"</span>;</span><br><span class="line">     links = get\_character\_device_symlinks(uevent);</span><br><span class="line">     <span class="keyword">if</span> (!links)</span><br><span class="line">         links = get\_v4l\_device_symlinks(uevent);</span><br><span class="line"></span><br><span class="line">     <span class="keyword">if</span> (!devpath\[<span class="number">0</span>\])</span><br><span class="line">         snprintf(devpath, sizeof(devpath), <span class="string">"%s%s"</span>, base, <span class="keyword">name</span>);</span><br><span class="line">    <span class="comment">//开始进行热插拔处理，包括设备节点的创建和移除，可参考相关代码继续分析</span></span><br><span class="line">    INFO(<span class="string">"maple usb: devpath %s, major:%d, minor:%d, action:%s\\n"</span>, <span class="function"><span class="title">devpath</span>, uevent-&gt;</span><span class="function"><span class="title">major</span>, uevent-&gt;</span><span class="function"><span class="title">minor</span>, uevent-&gt;</span>action);</span><br><span class="line">     <span class="function"><span class="title">handle_device</span>(uevent-&gt;</span><span class="function"><span class="title">action</span>, devpath, uevent-&gt;</span><span class="built_in">path</span>, <span class="number">0</span>,</span><br><span class="line">             <span class="function"><span class="title">uevent</span>-&gt;</span><span class="function"><span class="title">major</span>, uevent-&gt;</span>minor, links);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;x00-背景&quot;&gt;&lt;a href=&quot;#x00-背景&quot; class=&quot;headerlink&quot; title=&quot;x00 背景&quot;&gt;&lt;/a&gt;x00 背景&lt;/h2&gt;&lt;p&gt;最近帮同事解决一个问题，就是在Ubuntu（主机）下编译的USB驱动程序，在设备热插拔的时候会自动创建设备节
      
    
    </summary>
    
      <category term="移动端开发" scheme="http://www.hndev.cn/categories/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    
    
      <category term="android" scheme="http://www.hndev.cn/tags/android/"/>
    
  </entry>
  
</feed>
